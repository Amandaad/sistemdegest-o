<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gest√£o Empresarial</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .slide-in {
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(-100%); }
            to { transform: translateX(0); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
    <!-- Header -->
    <header class="bg-white shadow-lg border-b-4 border-blue-600">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center">
                        <span class="text-white font-bold text-xl">üìä</span>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800">Sistema de Gest√£o</h1>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-gray-600">Bem-vindo, Admin</span>
                    <div class="w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center">
                        <span class="text-white text-sm">üë§</span>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-white shadow-lg min-h-screen slide-in">
            <nav class="p-6">
                <ul class="space-y-2">
                    <li>
                        <button onclick="showSection('dashboard')" class="nav-btn w-full text-left px-4 py-3 rounded-lg bg-blue-600 text-white font-medium">
                            üìà Dashboard
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('clientes')" class="nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 font-medium">
                            üë• Clientes
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('produtos')" class="nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 font-medium">
                            üì¶ Produtos
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('vendas')" class="nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 font-medium">
                            üí∞ Vendas
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('funcionarios')" class="nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 font-medium">
                            üë®‚Äçüíº Funcion√°rios
                        </button>
                    </li>
                    <li>
                        <button onclick="showSection('relatorios')" class="nav-btn w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-blue-50 font-medium">
                            üìä Relat√≥rios
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-8">
            <!-- Dashboard Section -->
            <div id="dashboard" class="section fade-in">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">Dashboard</h2>
                
                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-blue-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-600 text-sm">Total Clientes</p>
                                <p class="text-3xl font-bold text-gray-800" id="totalClientes">0</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="text-blue-600 text-xl">üë•</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-green-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-600 text-sm">Vendas do M√™s</p>
                                <p class="text-3xl font-bold text-gray-800" id="vendasMes">R$ 0</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-green-600 text-xl">üí∞</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-purple-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-600 text-sm">Produtos</p>
                                <p class="text-3xl font-bold text-gray-800" id="totalProdutos">0</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-purple-600 text-xl">üì¶</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6 border-l-4 border-orange-500">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-gray-600 text-sm">Funcion√°rios</p>
                                <p class="text-3xl font-bold text-gray-800" id="totalFuncionarios">0</p>
                            </div>
                            <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                                <span class="text-orange-600 text-xl">üë®‚Äçüíº</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Atividades Recentes</h3>
                    <div id="recentActivity" class="space-y-3">
                        <!-- Activities will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Clientes Section -->
            <div id="clientes" class="section hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Clientes</h2>
                    <button onclick="openModal('clienteModal')" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        + Novo Cliente
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="p-6 border-b">
                        <input type="text" placeholder="Buscar clientes..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nome</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Email</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Telefone</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="clientesTable" class="divide-y divide-gray-200">
                                <!-- Clientes will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Produtos Section -->
            <div id="produtos" class="section hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Produtos</h2>
                    <button onclick="openModal('produtoModal')" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        + Novo Produto
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="p-6 border-b">
                        <input type="text" placeholder="Buscar produtos..." class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nome</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Categoria</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Pre√ßo</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Estoque</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="produtosTable" class="divide-y divide-gray-200">
                                <!-- Produtos will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Vendas Section -->
            <div id="vendas" class="section hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Vendas</h2>
                    <button onclick="openModal('vendaModal')" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        + Nova Venda
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cliente</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Data</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Total</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="vendasTable" class="divide-y divide-gray-200">
                                <!-- Vendas will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Funcion√°rios Section -->
            <div id="funcionarios" class="section hidden">
                <div class="flex justify-between items-center mb-8">
                    <h2 class="text-3xl font-bold text-gray-800">Funcion√°rios</h2>
                    <button onclick="openModal('funcionarioModal')" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors">
                        + Novo Funcion√°rio
                    </button>
                </div>
                
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="w-full">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Nome</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Cargo</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Departamento</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Sal√°rio</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">A√ß√µes</th>
                                </tr>
                            </thead>
                            <tbody id="funcionariosTable" class="divide-y divide-gray-200">
                                <!-- Funcion√°rios will be populated by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Relat√≥rios Section -->
            <div id="relatorios" class="section hidden">
                <h2 class="text-3xl font-bold text-gray-800 mb-8">Relat√≥rios</h2>
                
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Vendas por M√™s</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Janeiro</span>
                                <span class="font-bold text-green-600">R$ 15.000</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Fevereiro</span>
                                <span class="font-bold text-green-600">R$ 18.500</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Mar√ßo</span>
                                <span class="font-bold text-green-600">R$ 22.300</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-xl shadow-lg p-6">
                        <h3 class="text-xl font-bold text-gray-800 mb-4">Top Produtos</h3>
                        <div class="space-y-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Notebook Dell</span>
                                <span class="font-bold text-blue-600">45 vendas</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Mouse Logitech</span>
                                <span class="font-bold text-blue-600">38 vendas</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-600">Teclado Mec√¢nico</span>
                                <span class="font-bold text-blue-600">32 vendas</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <!-- Cliente Modal -->
    <div id="clienteModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Novo Cliente</h3>
            <form onsubmit="addCliente(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Nome</label>
                        <input type="text" name="nome" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Email</label>
                        <input type="email" name="email" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Telefone</label>
                        <input type="tel" name="telefone" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" onclick="closeModal('clienteModal')" class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">Cancelar</button>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Produto Modal -->
    <div id="produtoModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Novo Produto</h3>
            <form onsubmit="addProduto(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Nome</label>
                        <input type="text" name="nome" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Categoria</label>
                        <select name="categoria" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">Selecione...</option>
                            <option value="Eletr√¥nicos">Eletr√¥nicos</option>
                            <option value="Roupas">Roupas</option>
                            <option value="Casa">Casa</option>
                            <option value="Esportes">Esportes</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Pre√ßo</label>
                        <input type="number" name="preco" step="0.01" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Estoque</label>
                        <input type="number" name="estoque" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" onclick="closeModal('produtoModal')" class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">Cancelar</button>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Venda Modal -->
    <div id="vendaModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Nova Venda</h3>
            <form onsubmit="addVenda(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Cliente</label>
                        <select name="cliente" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="vendaClienteSelect">
                            <option value="">Selecione um cliente...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Produto</label>
                        <select name="produto" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" id="vendaProdutoSelect">
                            <option value="">Selecione um produto...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Quantidade</label>
                        <input type="number" name="quantidade" min="1" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" onclick="closeModal('vendaModal')" class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">Cancelar</button>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Funcion√°rio Modal -->
    <div id="funcionarioModal" class="modal fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-white rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-2xl font-bold text-gray-800 mb-6">Novo Funcion√°rio</h3>
            <form onsubmit="addFuncionario(event)">
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Nome</label>
                        <input type="text" name="nome" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Cargo</label>
                        <input type="text" name="cargo" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Departamento</label>
                        <select name="departamento" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="">Selecione...</option>
                            <option value="Vendas">Vendas</option>
                            <option value="Marketing">Marketing</option>
                            <option value="TI">TI</option>
                            <option value="RH">RH</option>
                            <option value="Financeiro">Financeiro</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 font-medium mb-2">Sal√°rio</label>
                        <input type="number" name="salario" step="0.01" required class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                    </div>
                </div>
                <div class="flex justify-end space-x-4 mt-8">
                    <button type="button" onclick="closeModal('funcionarioModal')" class="px-6 py-2 text-gray-600 hover:text-gray-800 transition-colors">Cancelar</button>
                    <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">Salvar</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Simulated Database
        let database = {
            clientes: [
                { id: 1, nome: 'Jo√£o Silva', email: 'joao@email.com', telefone: '(11) 99999-9999', status: 'Ativo' },
                { id: 2, nome: 'Maria Santos', email: 'maria@email.com', telefone: '(11) 88888-8888', status: 'Ativo' }
            ],
            produtos: [
                { id: 1, nome: 'Notebook Dell', categoria: 'Eletr√¥nicos', preco: 2500.00, estoque: 10 },
                { id: 2, nome: 'Mouse Logitech', categoria: 'Eletr√¥nicos', preco: 89.90, estoque: 25 }
            ],
            vendas: [
                { id: 1, clienteId: 1, produtoId: 1, quantidade: 1, total: 2500.00, data: '2024-01-15', status: 'Conclu√≠da' },
                { id: 2, clienteId: 2, produtoId: 2, quantidade: 2, total: 179.80, data: '2024-01-16', status: 'Pendente' }
            ],
            funcionarios: [
                { id: 1, nome: 'Carlos Oliveira', cargo: 'Vendedor', departamento: 'Vendas', salario: 3500.00, status: 'Ativo' },
                { id: 2, nome: 'Ana Costa', cargo: 'Gerente', departamento: 'Marketing', salario: 6500.00, status: 'Ativo' }
            ]
        };

        let nextId = {
            clientes: 3,
            produtos: 3,
            vendas: 3,
            funcionarios: 3
        };

        // Navigation
        function showSection(sectionName) {
            // Hide all sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected section
            document.getElementById(sectionName).classList.remove('hidden');
            document.getElementById(sectionName).classList.add('fade-in');
            
            // Update navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('bg-blue-600', 'text-white');
                btn.classList.add('text-gray-700', 'hover:bg-blue-50');
            });
            
            event.target.classList.add('bg-blue-600', 'text-white');
            event.target.classList.remove('text-gray-700', 'hover:bg-blue-50');
            
            // Load section data
            if (sectionName === 'dashboard') {
                updateDashboard();
            } else if (sectionName === 'clientes') {
                loadClientes();
            } else if (sectionName === 'produtos') {
                loadProdutos();
            } else if (sectionName === 'vendas') {
                loadVendas();
                updateVendaSelects();
            } else if (sectionName === 'funcionarios') {
                loadFuncionarios();
            }
        }

        // Modal functions
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
            document.getElementById(modalId).classList.add('flex');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
            document.getElementById(modalId).classList.remove('flex');
        }

        // Dashboard functions
        function updateDashboard() {
            document.getElementById('totalClientes').textContent = database.clientes.length;
            document.getElementById('totalProdutos').textContent = database.produtos.length;
            document.getElementById('totalFuncionarios').textContent = database.funcionarios.length;
            
            const totalVendas = database.vendas.reduce((sum, venda) => sum + venda.total, 0);
            document.getElementById('vendasMes').textContent = `R$ ${totalVendas.toLocaleString('pt-BR', { minimumFractionDigits: 2 })}`;
            
            // Update recent activity
            const recentActivity = document.getElementById('recentActivity');
            recentActivity.innerHTML = `
                <div class="flex items-center space-x-3 p-3 bg-blue-50 rounded-lg">
                    <span class="text-blue-600">üë•</span>
                    <span class="text-gray-700">Novo cliente cadastrado: ${database.clientes[database.clientes.length - 1]?.nome || 'N/A'}</span>
                </div>
                <div class="flex items-center space-x-3 p-3 bg-green-50 rounded-lg">
                    <span class="text-green-600">üí∞</span>
                    <span class="text-gray-700">Venda realizada: R$ ${database.vendas[database.vendas.length - 1]?.total.toFixed(2) || '0.00'}</span>
                </div>
                <div class="flex items-center space-x-3 p-3 bg-purple-50 rounded-lg">
                    <span class="text-purple-600">üì¶</span>
                    <span class="text-gray-700">Produto adicionado: ${database.produtos[database.produtos.length - 1]?.nome || 'N/A'}</span>
                </div>
            `;
        }

        // Cliente functions
        function loadClientes() {
            const tbody = document.getElementById('clientesTable');
            tbody.innerHTML = database.clientes.map(cliente => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${cliente.nome}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${cliente.email}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${cliente.telefone}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-semibold rounded-full ${cliente.status === 'Ativo' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">${cliente.status}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editCliente(${cliente.id})" class="text-blue-600 hover:text-blue-900 mr-3">Editar</button>
                        <button onclick="deleteCliente(${cliente.id})" class="text-red-600 hover:text-red-900">Excluir</button>
                    </td>
                </tr>
            `).join('');
        }

        function addCliente(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const cliente = {
                id: nextId.clientes++,
                nome: formData.get('nome'),
                email: formData.get('email'),
                telefone: formData.get('telefone'),
                status: 'Ativo'
            };
            database.clientes.push(cliente);
            loadClientes();
            closeModal('clienteModal');
            event.target.reset();
            updateDashboard();
        }

        function deleteCliente(id) {
            if (confirm('Tem certeza que deseja excluir este cliente?')) {
                database.clientes = database.clientes.filter(c => c.id !== id);
                loadClientes();
                updateDashboard();
            }
        }

        // Produto functions
        function loadProdutos() {
            const tbody = document.getElementById('produtosTable');
            tbody.innerHTML = database.produtos.map(produto => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${produto.nome}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${produto.categoria}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ ${produto.preco.toFixed(2)}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${produto.estoque}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editProduto(${produto.id})" class="text-blue-600 hover:text-blue-900 mr-3">Editar</button>
                        <button onclick="deleteProduto(${produto.id})" class="text-red-600 hover:text-red-900">Excluir</button>
                    </td>
                </tr>
            `).join('');
        }

        function addProduto(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const produto = {
                id: nextId.produtos++,
                nome: formData.get('nome'),
                categoria: formData.get('categoria'),
                preco: parseFloat(formData.get('preco')),
                estoque: parseInt(formData.get('estoque'))
            };
            database.produtos.push(produto);
            loadProdutos();
            closeModal('produtoModal');
            event.target.reset();
            updateDashboard();
        }

        function deleteProduto(id) {
            if (confirm('Tem certeza que deseja excluir este produto?')) {
                database.produtos = database.produtos.filter(p => p.id !== id);
                loadProdutos();
                updateDashboard();
            }
        }

        // Venda functions
        function loadVendas() {
            const tbody = document.getElementById('vendasTable');
            tbody.innerHTML = database.vendas.map(venda => {
                const cliente = database.clientes.find(c => c.id === venda.clienteId);
                return `
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">#${venda.id}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${cliente?.nome || 'N/A'}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${venda.data}</td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ ${venda.total.toFixed(2)}</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <span class="px-2 py-1 text-xs font-semibold rounded-full ${venda.status === 'Conclu√≠da' ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'}">${venda.status}</span>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <button onclick="deleteVenda(${venda.id})" class="text-red-600 hover:text-red-900">Excluir</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function updateVendaSelects() {
            const clienteSelect = document.getElementById('vendaClienteSelect');
            const produtoSelect = document.getElementById('vendaProdutoSelect');
            
            clienteSelect.innerHTML = '<option value="">Selecione um cliente...</option>' +
                database.clientes.map(cliente => `<option value="${cliente.id}">${cliente.nome}</option>`).join('');
            
            produtoSelect.innerHTML = '<option value="">Selecione um produto...</option>' +
                database.produtos.map(produto => `<option value="${produto.id}">${produto.nome} - R$ ${produto.preco.toFixed(2)}</option>`).join('');
        }

        function addVenda(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const produtoId = parseInt(formData.get('produto'));
            const quantidade = parseInt(formData.get('quantidade'));
            const produto = database.produtos.find(p => p.id === produtoId);
            
            if (produto && produto.estoque >= quantidade) {
                const venda = {
                    id: nextId.vendas++,
                    clienteId: parseInt(formData.get('cliente')),
                    produtoId: produtoId,
                    quantidade: quantidade,
                    total: produto.preco * quantidade,
                    data: new Date().toISOString().split('T')[0],
                    status: 'Conclu√≠da'
                };
                
                // Update stock
                produto.estoque -= quantidade;
                
                database.vendas.push(venda);
                loadVendas();
                closeModal('vendaModal');
                event.target.reset();
                updateDashboard();
            } else {
                alert('Estoque insuficiente!');
            }
        }

        function deleteVenda(id) {
            if (confirm('Tem certeza que deseja excluir esta venda?')) {
                database.vendas = database.vendas.filter(v => v.id !== id);
                loadVendas();
                updateDashboard();
            }
        }

        // Funcion√°rio functions
        function loadFuncionarios() {
            const tbody = document.getElementById('funcionariosTable');
            tbody.innerHTML = database.funcionarios.map(funcionario => `
                <tr>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${funcionario.nome}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${funcionario.cargo}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${funcionario.departamento}</td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">R$ ${funcionario.salario.toFixed(2)}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs font-semibold rounded-full ${funcionario.status === 'Ativo' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}">${funcionario.status}</span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                        <button onclick="editFuncionario(${funcionario.id})" class="text-blue-600 hover:text-blue-900 mr-3">Editar</button>
                        <button onclick="deleteFuncionario(${funcionario.id})" class="text-red-600 hover:text-red-900">Excluir</button>
                    </td>
                </tr>
            `).join('');
        }

        function addFuncionario(event) {
            event.preventDefault();
            const formData = new FormData(event.target);
            const funcionario = {
                id: nextId.funcionarios++,
                nome: formData.get('nome'),
                cargo: formData.get('cargo'),
                departamento: formData.get('departamento'),
                salario: parseFloat(formData.get('salario')),
                status: 'Ativo'
            };
            database.funcionarios.push(funcionario);
            loadFuncionarios();
            closeModal('funcionarioModal');
            event.target.reset();
            updateDashboard();
        }

        function deleteFuncionario(id) {
            if (confirm('Tem certeza que deseja excluir este funcion√°rio?')) {
                database.funcionarios = database.funcionarios.filter(f => f.id !== id);
                loadFuncionarios();
                updateDashboard();
            }
        }

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            updateDashboard();
        });

        // Close modals when clicking outside
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.add('hidden');
                event.target.classList.remove('flex');
            }
        });
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98a0634435ea280c',t:'MTc1OTcwMzY4MC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
